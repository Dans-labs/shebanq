{{ left_sidebar_enabled = False }}
{{ right_sidebar_enabled = False }}
{{ ('message' in globals()) }}
{{ extend 'layout.html' }}

{{
startimage = 3

section_def = (
    (1, 'Basic Usage'),
        (2, 'View and visualize'),
            (3, 'The Text'),
            (3, 'Context View'),
            (3, 'Data'),
            (3, 'Words'),
            (3, 'Queries'),
            (3, 'Queries - more info'),
            (3, 'Queries - muting'),
            (3, 'Charts'),
        (2, 'Export and share'),
            (3, 'Export Data'),
            (3, 'Sharing'),
    (1, 'More about Data'),
            (3, 'Versions'),
            (3, 'Versions and Words'),
            (3, 'Versions and Queries'),
    (1, 'More about sharing'),
            (3, 'Sharing versus Publishing'),
            (3, 'Citation'),
    (1, 'More about Words'),
            (3, 'Word Highlights'),
            (3, 'Single Word View'),
    (1, 'Working with Queries'),
            (3, 'Making queries'),
            (3, 'Making queries (continued)'),
            (3, 'Query Highlights'),
            (3, 'Single Query View'),
            (3, 'Executing Queries'),
    (1, 'Experimental'),
        (2, 'Tabbed views'),
            (3, 'Nicolai style'),
            (3, 'Oliver style'),
    (1, 'Go your own way'),
            (3, 'Beyond: LAF-Fabric'),
    (1, 'Documentation and Support'),
)

def make_anchor(title): return title.lower().replace(' ','_').replace('-','_').translate(None, '''!@#$%^&*()+={}[]:;"'|\\~`<,>.?/''')
pass

def toc_line(level, title):
    return '''
<h{level}><a href="#{anchor}">{title}</a></h{level}>
'''.format(level=level, anchor=make_anchor(title), title=title)
pass

def body_line(level, title, image):
    if level < 3:
        bline = '''<hr/><h{level}><a name="{anchor}">{title}</a></h{level}>'''.format(level=level, anchor=make_anchor(title), title=title)
    else:
        bline = '''<hr/><h{level}><a name="{anchor}">{title}</a></h{level}><p><img src="{url}.{image:03}.jpg"/></p>'''.format(
            level=level,
            anchor=make_anchor(title),
            title=title,
            image=image,
            url=URL('static', 'images/help/help'),
        )
    pass
    return bline
pass

def toc(): return ''.join(toc_line(s[0], s[1]) for s in section_def)
pass

def body():
    material = ''
    image = startimage
    for (level, title) in section_def:
        material += body_line(level, title, image)
        if level == 3:
            image += 1
        pass
    pass
    return material
pass

}}
<p style="margin-left: 80px;">Last updated: 2015-04-09. {{=A('Download as PDF', _target='_blank',_href=URL('static', 'docs/help.pdf'))}}</p>
<img style="float: right;" src="{{=URL('static', 'images/shebanq_logo.png')}}"/>

<hr/>
<div id="helptoc">
{{=XML(toc())}}
</div>

{{=XML(body())}}
<p class="note">If a page in SHEBANQ acts weird, it is always a good idea to refresh the page.</p>

<ul class="lcirc">
    <li><a target="_blank" href="{{=URL('static', 'docs/MQL-QuickRef.pdf')}}">MQL quick reference guide (pdf)</a></li>
    <li><a target="_blank" href="{{=URL('static', 'docs/MQL-Query-Guide.pdf')}}">MQL Query Reference by Ulrik (pdf)</a></li>
    <li><a target="_blank" href="http://shebanq-doc.readthedocs.org/en/latest/features/comments/0_overview.html">ETCBC4 feature doc</a></li>
    <li><a target="_blank" href="{{=URL('static', 'docs/ETCBC4-transcription.pdf')}}">ETCBC4 transcription table (pdf)</a></li>
</ul>

<hr/>
<p>Please report issues to <a href="mailto:dirk.roorda@dans.knaw.nl">Dirk Roorda</a>.</p>
